'use strict';

const {
  createElement,
  Fragment
} = wp.element;
const {
  registerBlockType
} = wp.blocks;
const {
  InspectorControls
} = wp.blockEditor || wp.editor;
const {
  SelectControl,
  ToggleControl,
  PanelBody,
  Placeholder
} = wp.components;
registerBlockType('ernest/table-block', {
  title: 'Ernest API Table',
  description: 'Ernest API Table',
  category: 'widgets',
  attributes: {
    id: {
      type: 'boolean'
    }
  },
  edit(props) {
    const {
      attributes,
      setAttributes
    } = props;
    let jsx;
    wp.ajax.post('my-plugin/my-endpoint', {
      data: {
        message: 'Hello world!'
      }
    }).done(function (response) {
      setAttributes({
        message: response
      });
    });
    jsx = [React.createElement("div", null, React.createElement("h1", null, "Ernest API Table"))];
    return jsx;
  },
  save(props) {
    return null;
  }
});